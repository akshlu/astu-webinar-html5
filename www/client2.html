<!DOCTYPE html>
<html>
<head>
    <title>test socket.io</title>
    <script type="text/javascript" src="jquery-1.7.2.js"></script>
    <script type="text/javascript" src="http://127.0.0.1:8123/socket.io/socket.io.js"></script>
    <script type="text/javascript">

         $(function() {

            var socket = io.connect('http://127.0.0.1:8123');
            socket.on('connect', function() {
                console.log("Socket connected");
                socket.emit('newUser', {
                    room: 'test2'
                });
                $('#send').click(function() {
                    var msgText = $('#inputtext').val();
                    console.log('Message sent: ' + msgText);
                    socket.emit('msg', {
                        text: msgText
                    });
                    $('#inputtext').val('');
                    addMessage(msgText);

                });
                socket.on('msg', function(msg) {
                    console.log(msg);
                    console.log('Message received: ' + msg.text);
                    addMessage(msg.text);
                });
                socket.on('disconnect', function() {
                    console.log('Socket disconnect');
                });
            });
        });

         function addMessage(message) {
            $('#log').html($('#log').html() + message + '<br>');
         }

    </script>
</head>
<body>

<input type="text" id="inputtext">
<button id="send">Send</button>
<div id="log"></div>

</body>
</html>